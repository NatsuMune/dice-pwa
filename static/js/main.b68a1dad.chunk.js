(this["webpackJsonpdice-pwa"]=this["webpackJsonpdice-pwa"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),o=n.n(i),r=n(15),a=n.n(r),s=(n(23),n(24),n(25),n(16));var l=function(e){return Object(c.jsxs)("div",{className:"HomePage",children:[Object(c.jsx)("h1",{children:"\u8bf7\u9009\u62e9\u9636\u6bb5"}),Object(c.jsx)("button",{className:"button",onClick:function(){return window.location.replace("/wind")},children:"\u6253\u98ce\u5934"}),Object(c.jsx)("button",{className:"button",onClick:function(){return window.location.replace("/pick")},children:"\u5f00\u95e8\u513f"})]})},d=n(17),u=n(2),j=n(8),f=n.n(j),b=n(3),h=n.n(b);var O=function(e){var t=Object(i.useState)(0),n=Object(u.a)(t,2),o=n[0],r=n[1],a=Object(i.useState)(!0),s=Object(u.a)(a,2),l=s[0],j=s[1],b=Object(i.useState)(null),O=Object(u.a)(b,2),v=O[0],m=O[1],p=Object(i.useState)([]),x=Object(u.a)(p,2),g=x[0],w=x[1],k=Object(i.useState)(-1),y=Object(u.a)(k,2),S=y[0],R=y[1],N=Object(i.useState)(4),C=Object(u.a)(N,2),W=C[0],L=C[1];return Object(c.jsxs)("div",{className:"Wind",children:[Object(c.jsx)(f.a,{numDice:2,rollDone:function(e){var t;if(w((function(n){return t=[].concat(Object(d.a)(n),[e])})),o===W&&1===h.a.countBy(t)[h.a.max(t)]){var n=h.a.findIndex(t,(function(e){return e===h.a.max(t)}));R(n)}},dieSize:80,faceColor:"white",dotColor:"red",rollTime:.5,disableIndividual:!0,defaultRoll:12,ref:function(e){return m(e)}}),Object(c.jsx)("button",{className:"button",onClick:function(){if(o===W){var e=h.a.countBy(g)[h.a.max(g)];1===e?window.location.replace("/pick"):(R(-1),r(0),w([]),L(e))}else j(!1),setTimeout((function(){return j(!0)}),500),null===v||void 0===v||v.rollAll(),r((function(e){return e+1}))},style:{position:"absolute",left:"50%",top:"50%",visibility:l?"unset":"hidden",transform:"translate(-50%, -50%)"},children:-1===S?o===W?"\u51b3\u6597":"\u63b7\u9ab0\u5b50":"\u5f00\u95e8\u513f"}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\u5e8f\u53f7"}),Object(c.jsx)("th",{children:"\u5927\u5c0f"})]})}),Object(c.jsx)("tbody",{children:g.map((function(e,t){return Object(c.jsxs)("tr",{style:t===S?{backgroundColor:"lightgreen"}:null,children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e})]},t)}))})]})]})},v=n.p+"static/media/dealer.79936c5b.png",m=n.p+"static/media/arrow.e4fefebb.svg";var p=function(e){var t=Object(i.useState)(null),n=Object(u.a)(t,2),o=n[0],r=n[1],a=Object(i.useState)(null),s=Object(u.a)(a,2),l=s[0],d=s[1],j=Object(i.useState)(null),b=Object(u.a)(j,2),h=b[0],O=b[1],p=Object(i.useState)(0),x=Object(u.a)(p,2),g=x[0],w=x[1],k=Object(i.useState)(null),y=Object(u.a)(k,2),S=y[0],R=y[1],N=Object(i.useState)(!0),C=Object(u.a)(N,2),W=C[0],L=C[1],A={};function T(){r(null),d(null),O(null),R(null)}function B(e){var t;if(o)if(l){if(!h&&S){var n;if(0===e){var i="\u53f3\u4fa7",r="\u5de6\u4fa7";switch(S.direction){case 1:i="\u8fdc\u7aef",r="\u8fd1\u7aef";break;case 2:i="\u5de6\u4fa7",r="\u53f3\u4fa7";break;case 3:i="\u8fd1\u7aef",r="\u8fdc\u7aef"}n=S.fromRight<=8?0===S.fromRight?"\u4ece".concat(i,"\u8d77\u6293"):"\u4ece".concat(i,"\u8d77\u7559 ")+S.fromRight+" \u5f20":"\u4ece".concat(r,"\u8d77\u6293 ")+(17-S.fromRight)+" \u5f20"}t=Object(c.jsxs)("span",{children:[" ",n?Object(c.jsxs)("span",{children:[n," ",Object(c.jsx)("br",{})]}):null,"\u603b\u8ba1\uff1a",o," + ",l," = ",o+l]})}else if(S){var a;if(0===e){var s="\u53f3\u4fa7",d="\u5de6\u4fa7";switch(S.direction){case 1:s="\u8fdc\u7aef",d="\u8fd1\u7aef";break;case 2:s="\u5de6\u4fa7",d="\u53f3\u4fa7";break;case 3:s="\u8fd1\u7aef",d="\u8fdc\u7aef"}a=S.fromRight<S.fromLeft?"\u6df7\u513f\uff1a\u4ece".concat(s,"\u8d77\u7b2c ").concat(S.fromRight," \u5f20"):S.fromRight>S.fromLeft?"\u6df7\u513f\uff1a\u4ece".concat(d,"\u8d77\u7b2c ").concat(S.fromLeft," \u5f20"):"\u6df7\u513f\uff1a\u7b2c ".concat(S.fromRight," \u5f20")}t=Object(c.jsxs)("span",{children:["\u603b\u8ba1\uff1a",o," + ",l," = ",o+l," ",Object(c.jsx)("br",{})," ",a]})}}else t=Object(c.jsxs)("span",{children:["\u7b2c\u4e00\u6b21\uff1a",o]});else t=0===e?"\u8bf7\u63b7\u9ab0\u5b50":null;return t}return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(f.a,{numDice:2,rollDone:function(e){if(o)if(l)if(h)T();else{O(e);var t=S.direction,n=S.fromRight;R(e<=n?{direction:t,fromRight:n-e+1,fromLeft:e}:{direction:3===t?0:t+1,fromRight:17-(e-n)+1,fromLeft:e-n}),w(0)}else{d(e);var c=o+e;R({direction:c<17?g:g-1,fromRight:c<17?c:c-17}),w(2)}else r(e),w((e-1)%4)},dieSize:80,faceColor:"white",dotColor:"red",rollTime:.5,disableIndividual:!0,defaultRoll:12,ref:function(e){return A=e}}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"button",onClick:function(){h?T():(L(!1),setTimeout((function(){return L(!0)}),500),A.rollAll())},style:{position:"absolute",left:"50%",top:"50%",visibility:W?"unset":"hidden",transform:"translate(-50%, -50%) rotate(".concat(90*-g,"deg)")},children:l?h?"\u518d\u6765\u4e00\u5c40":"\u6253\u6df7\u513f":"\u63b7\u9ab0\u5b50"})}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{id:"p0",className:"result",children:B(0)}),Object(c.jsx)("div",{id:"p1",className:"result",children:B(1)}),Object(c.jsx)("div",{id:"p2",className:"result",children:B(2)}),Object(c.jsx)("div",{id:"p3",className:"result",children:B(3)}),Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:v,id:"dealer",alt:"dealer"})}),Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:m,id:"arrow",alt:"arrow",style:{visibility:S?"unset":"hidden",transform:"translate(-50%, -50%) rotate(".concat(90*-(null===S||void 0===S?void 0:S.direction),"deg)")}})})]})},x={"/wind":function(){return Object(c.jsx)(O,{})},"/pick":function(){return Object(c.jsx)(p,{})}};var g=function(){return Object(s.useRoutes)(x)||Object(c.jsx)(l,{})},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y,S=document.querySelector("body");y=window.pageYOffset,S.style.overflow="hidden",S.style.position="fixed",S.style.top="-".concat(y,"px"),S.style.width="100%",a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");w?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):k(t,e)}))}}()}},[[37,1,2]]]);
//# sourceMappingURL=main.b68a1dad.chunk.js.map